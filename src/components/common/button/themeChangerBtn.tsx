import { useTheme } from "next-themes";
import { useEffect } from "react";

type Props = {
  animate: boolean;
};

const ThemeChangerBtn = (props: Props) => {
  const { theme, setTheme } = useTheme();
  useEffect(
    () => {
      if (theme === "system") {
        setTheme("light");
      }
    },
    // eslint-disable-next-line
    [],
  );
  return (
    <button
      className={`btn btn-square btn-ghost border-gray-10 border-[0.5px] rounded-full  dark:hover:bg-blue-90 bg-base-100 dark:bg-transparent backdrop-blur-lg hover:bg-base-300 ${
        props.animate ? "hover:drop-shadow-2xl duration-300 ease-in-out" : ""
      } `}
    >
      <label className={`w-full h-full swap swap-rotate`}>
        <input
          type="checkbox"
          checked={theme === "light"}
          onChange={() => {
            theme === "light" ? setTheme("dark") : setTheme("light");
          }}
        />
        <svg
          className="fill-current stroke-current swap-on"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10 15.8334C13.2217 15.8334 15.8334 13.2217 15.8334 10.0001C15.8334 6.77842 13.2217 4.16675 10 4.16675C6.77836 4.16675 4.16669 6.77842 4.16669 10.0001C4.16669 13.2217 6.77836 15.8334 10 15.8334Z"
            fill="#333333"
          />
          <path
            d="M9.99998 19.1333C9.54165 19.1333 9.16665 18.7916 9.16665 18.3333V18.2666C9.16665 17.8083 9.54165 17.4333 9.99998 17.4333C10.4583 17.4333 10.8333 17.8083 10.8333 18.2666C10.8333 18.7249 10.4583 19.1333 9.99998 19.1333ZM15.95 16.7833C15.7333 16.7833 15.525 16.6999 15.3583 16.5416L15.25 16.4333C14.925 16.1083 14.925 15.5833 15.25 15.2583C15.575 14.9333 16.1 14.9333 16.425 15.2583L16.5333 15.3666C16.8583 15.6916 16.8583 16.2166 16.5333 16.5416C16.375 16.6999 16.1666 16.7833 15.95 16.7833ZM4.04998 16.7833C3.83331 16.7833 3.62498 16.6999 3.45831 16.5416C3.13331 16.2166 3.13331 15.6916 3.45831 15.3666L3.56665 15.2583C3.89165 14.9333 4.41665 14.9333 4.74165 15.2583C5.06665 15.5833 5.06665 16.1083 4.74165 16.4333L4.63331 16.5416C4.47498 16.6999 4.25831 16.7833 4.04998 16.7833ZM18.3333 10.8333H18.2666C17.8083 10.8333 17.4333 10.4583 17.4333 9.99992C17.4333 9.54158 17.8083 9.16658 18.2666 9.16658C18.725 9.16658 19.1333 9.54158 19.1333 9.99992C19.1333 10.4583 18.7916 10.8333 18.3333 10.8333ZM1.73331 10.8333H1.66665C1.20831 10.8333 0.833313 10.4583 0.833313 9.99992C0.833313 9.54158 1.20831 9.16658 1.66665 9.16658C2.12498 9.16658 2.53331 9.54158 2.53331 9.99992C2.53331 10.4583 2.19165 10.8333 1.73331 10.8333ZM15.8416 4.99158C15.625 4.99158 15.4166 4.90825 15.25 4.74992C14.925 4.42492 14.925 3.89992 15.25 3.57492L15.3583 3.46659C15.6833 3.14159 16.2083 3.14159 16.5333 3.46659C16.8583 3.79158 16.8583 4.31659 16.5333 4.64159L16.425 4.74992C16.2666 4.90825 16.0583 4.99158 15.8416 4.99158ZM4.15831 4.99158C3.94165 4.99158 3.73331 4.90825 3.56665 4.74992L3.45831 4.63325C3.13331 4.30825 3.13331 3.78325 3.45831 3.45825C3.78331 3.13325 4.30831 3.13325 4.63331 3.45825L4.74165 3.56659C5.06665 3.89159 5.06665 4.41659 4.74165 4.74159C4.58331 4.90825 4.36665 4.99158 4.15831 4.99158ZM9.99998 2.53325C9.54165 2.53325 9.16665 2.19159 9.16665 1.73325V1.66659C9.16665 1.20825 9.54165 0.833252 9.99998 0.833252C10.4583 0.833252 10.8333 1.20825 10.8333 1.66659C10.8333 2.12492 10.4583 2.53325 9.99998 2.53325Z"
            fill="#333333"
          />
        </svg>
        <svg
          className="fill-current stroke-current swap-off"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M17.9417 13.2751C17.8083 13.0501 17.4333 12.7001 16.5 12.8667C15.9833 12.9584 15.4583 13.0001 14.9333 12.9751C12.9917 12.8917 11.2333 12.0001 10.0083 10.6251C8.925 9.41672 8.25833 7.84172 8.25 6.14172C8.25 5.19172 8.43333 4.27506 8.80833 3.40839C9.175 2.56672 8.91667 2.12506 8.73333 1.94172C8.54167 1.75006 8.09167 1.48339 7.20833 1.85006C3.8 3.28339 1.69167 6.70006 1.94167 10.3584C2.19167 13.8001 4.60833 16.7417 7.80833 17.8501C8.575 18.1167 9.38333 18.2751 10.2167 18.3084C10.35 18.3167 10.4833 18.3251 10.6167 18.3251C13.4083 18.3251 16.025 17.0084 17.675 14.7667C18.2333 13.9917 18.0833 13.5001 17.9417 13.2751Z"
            fill="white"
            fillOpacity="0.8"
          />
        </svg>
      </label>
    </button>
  );
};

export default ThemeChangerBtn;
